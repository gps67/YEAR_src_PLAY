2020-06-17 Jun Wed 21:14 2020-06-17_tcl_docs.txt

 package

	packagename	must not end in a digit

	X/lib/packagename1.2/
	 pkgIndex.tcl

	#
	# add line joining \
	#

	if {[catch {package present Tcl 8.6-}]} return

	package ifneeded Tk 8.7a3 [
	 list load [
	  file normalize [
	   file join $dir .. libtk8.7 .so
	 ]] Tk
	]

	# lots of files in that dir
	somefile.tcl

	tk.tcl

	# generated by auto_mkindex
	# auto_mkindex . *.tcl

	# other dirs likewise with
	# lappend auto_path [pwd]

	tclIndex
	
 usage eg
 wait.tcl

# somehow no other namespace commands required
# no namespace export # but need outermost wait::func_name
namespace eval wait {

 proc wait_init {} {
 	# it doesn't need to be wait_init, any func will do
	# but calling this, means the auto load has worked
	# and it initialises the module, 
	# then $::wait::spacevar exists
	# also you can list the contents, because TYPE is preset
	#
 	variable spacevar 
 	variable spacevar2 initval
	set spacevar(key) {} ;# create var of type
	# ... #
 }
 proc wait_more {,,,} {...}
 proc wait_less {,,,} {...}
 proc wait_here {} {...}
 proc wait_list {} {...}
 # they all use spacevar
 # they all need to say 
 # variable spacevar
}

 usage eg
 caller.tcl

 simply call wait::wait_func ;# relative not absolute namespace
 preferable first call wait::wait_init to ensure namespace variables are preset


